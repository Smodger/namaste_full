{"ast":null,"code":"import _objectSpread from \"/Users/bis/dev/namaste_full/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/bis/dev/namaste_full/client/src/components/edit-retreat.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Bedroom from './bedroom.component';\nexport default class EditRetreat extends Component {\n  constructor(props) {\n    super(props);\n    this.updateName = this.updateName.bind(this);\n    this.updateStartDate = this.updateStartDate.bind(this);\n    this.updateEndDate = this.updateEndDate.bind(this);\n    this.updateRetreatSummary = this.updateRetreatSummary.bind(this);\n    this.updateFood = this.updateFood.bind(this);\n    this.updateCar = this.updateCar.bind(this);\n    this.updateTrain = this.updateTrain.bind(this);\n    this.updateBookingInfoDetails = this.updateBookingInfoDetails.bind(this);\n    this.updateBookingInfoUrl = this.updateBookingInfoUrl.bind(this);\n    this.updateWhatIncluded = this.updateWhatIncluded.bind(this); // this.updateRetreatImage = this.updateRetreatImage.bind(this);\n\n    this.onChangeBedDescription = this.onChangeBedDescription.bind(this);\n    this.onChangeBedCost = this.onChangeBedCost.bind(this);\n    this.onChangeBedBooking = this.onChangeBedBooking.bind(this);\n    this.updateAccomodation = this.updateAccomodation.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.appendBedroom = this.appendBedroom.bind(this);\n    this.renderBedroom = this.renderBedroom.bind(this);\n    this.state = {\n      name: \"\",\n      dateStart: \"\",\n      dateEnd: \"\",\n      retreatSummary: \"\",\n      accomodationOverview: \"\",\n      bedRooms: [],\n      food: \"\",\n      byCar: \"\",\n      byTrain: \"\",\n      bookingDetails: \"\",\n      bookingUrl: \"\",\n      whatsIncluded: [] // retreatImages : []\n\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:1234/retreats/' + this.props.match.params.id).then(res => {\n      console.log(res.data.dateStart, res.data.dateEnd);\n      this.setState({\n        name: res.data.name,\n        dateStart: res.data.dateStart,\n        dateEnd: res.data.dateEnd,\n        retreatSummary: res.data.retreatSummary,\n        accomodationOverview: res.data.accomodationOverview,\n        bedRooms: res.data.bedRooms,\n        food: res.data.food,\n        byCar: res.data.byCar,\n        byTrain: res.data.byTrain,\n        bookingDetails: res.data.bookingDetails,\n        bookingUrl: res.data.bookingUrl,\n        whatsIncluded: res.data.whatsIncluded // retreatImages : res.data.retreatImages\n\n      });\n    }).catch(function (err) {\n      console.log('error getting lesson : ', err);\n    });\n  }\n\n  updateName(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  updateStartDate(event) {\n    this.setState({\n      dateStart: event.target.value\n    });\n  }\n\n  updateEndDate(event) {\n    this.setState({\n      dateEnd: event.target.value\n    });\n  }\n\n  updateRetreatSummary(event) {\n    this.setState({\n      retreatSummary: event.target.value\n    });\n  }\n\n  updateFood(event) {\n    this.setState({\n      food: event.target.value\n    });\n  }\n\n  updateCar(event) {\n    this.setState({\n      byCar: event.target.value\n    });\n  }\n\n  updateTrain(event) {\n    this.setState({\n      byTrain: event.target.value\n    });\n  }\n\n  updateBookingInfoDetails(event) {\n    this.setState({\n      bookingDetails: event.target.value\n    });\n  }\n\n  updateBookingInfoUrl(event) {\n    this.setState({\n      bookingUrl: event.target.value\n    });\n  }\n\n  updateWhatIncluded(event) {\n    this.setState({\n      whatsIncluded: event.target.value\n    });\n  }\n\n  updateAccomodation(event) {\n    this.setState({\n      accomodationOverview: event.target.value\n    });\n  } // updateRetreatImage(event){\n  //   const newImage = [...this.state.retreatImages];\n  //   newImage.push(event.target.files[0]);\n  //\n  //   this.setState({\n  //     retreatImages : newImage\n  //   })\n  // }\n\n\n  onChangeBedDescription(desc, i) {\n    const newBedroom = _objectSpread({}, this.state.bedRooms[i], {\n      description: desc\n    });\n\n    let bedroomArray = this.state.bedRooms;\n    bedroomArray[i] = newBedroom;\n    this.setState({\n      bedRooms: bedroomArray\n    });\n  }\n\n  onChangeBedCost(cost, i) {\n    const newBedroom = _objectSpread({}, this.state.bedRooms[i], {\n      cost: cost\n    });\n\n    let bedroomArray = this.state.bedRooms;\n    bedroomArray[i] = newBedroom;\n    this.setState({\n      bedRooms: bedroomArray\n    });\n  }\n\n  onChangeBedBooking(booked, i) {\n    const newBedroom = _objectSpread({}, this.state.bedRooms[i], {\n      booked: booked\n    });\n\n    let bedroomArray = this.state.bedRooms;\n    bedroomArray[i] = newBedroom;\n    this.setState({\n      bedRooms: bedroomArray\n    });\n  }\n\n  appendBedroom(event) {\n    event.preventDefault();\n    let newRoom = {\n      description: \"\",\n      cost: 0,\n      booked: false\n    };\n    this.setState({\n      bedRooms: [...this.state.bedRooms, newRoom]\n    });\n  }\n\n  renderBedroom() {\n    return this.state.bedRooms.map(function (room, i) {\n      return React.createElement(Bedroom, {\n        key: i,\n        checkboxId: \"booked-room\" + i,\n        roomNum: i,\n        room: room,\n        onChangeBedDescription: desc => this.onChangeBedDescription(desc, i),\n        onChangeBedCost: cost => this.onChangeBedCost(cost, i),\n        onChangeBedBooking: booked => this.onChangeBedBooking(booked, i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      });\n    }, this);\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    const token = localStorage.getItem('jwtToken'); // if we allow update of images then will need to switch to FormData.set\n    // and add multipart/form-data to headers\n\n    const retreat = {\n      name: this.state.name,\n      dateStart: this.state.dateStart,\n      dateEnd: this.state.dateEnd,\n      retreatSummary: this.state.retreatSummary,\n      accomodationOverview: this.state.accomodationOverview,\n      food: this.state.food,\n      byCar: this.state.byCar,\n      byTrain: this.state.byTrain,\n      bookingDetails: this.state.bookingDetails,\n      bookingUrl: this.state.bookingUrl,\n      whatsIncluded: this.state.whatsIncluded,\n      bedRooms: this.state.bedRooms\n    };\n    const headers = {\n      Authorization: \"Bearer \" + token\n    };\n    axios.post('http://localhost:1234/retreats/update/' + this.props.match.params.id, retreat, {\n      headers: headers\n    }).then(res => console.log('data', res.data));\n    this.props.history.push('/list-retreats');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"hero-info-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"hero-info-overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"hero-landing-text-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"hero-img-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Em Thomson\"), React.createElement(\"p\", {\n      className: \"hero-img-subtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Yoga teacher\"))), React.createElement(\"div\", {\n      className: \"page-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Edit a retreat\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Retreat Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.name,\n      onChange: this.updateName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"Start Date eg(14/09/1988)\"), React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      value: this.state.dateStart,\n      onChange: this.updateStartDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"End Date eg(22/04/1990)\"), React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      value: this.state.dateEnd,\n      onChange: this.updateEndDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Retreat summary\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.retreatSummary,\n      onChange: this.updateRetreatSummary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Accommodation Overview\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.accomodationOverview,\n      onChange: this.updateAccomodation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"separator-long\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"bedroom-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, this.renderBedroom()), React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn-primary\",\n      onClick: this.appendBedroom,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Add bedroom\")), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Food\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.food,\n      onChange: this.updateFood,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"How to get there by Car\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.byCar,\n      onChange: this.updateCar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"How to get there by public transport\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.byTrain,\n      onChange: this.updateTrain,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"Booking information details\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.bookingDetails,\n      onChange: this.updateBookingInfoDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Booking information link (must be full url). Leave blank if you want them to email you\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.bookingUrl,\n      onChange: this.updateBookingInfoUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"What's included in the cost. \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"Separate all values by commas.\"), \" Eg food, wine, car parking, pringles\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.whatsIncluded,\n      onChange: this.updateWhatIncluded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"Cannot update images\")), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update Retreat\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/bis/dev/namaste_full/client/src/components/edit-retreat.component.js"],"names":["React","Component","axios","Bedroom","EditRetreat","constructor","props","updateName","bind","updateStartDate","updateEndDate","updateRetreatSummary","updateFood","updateCar","updateTrain","updateBookingInfoDetails","updateBookingInfoUrl","updateWhatIncluded","onChangeBedDescription","onChangeBedCost","onChangeBedBooking","updateAccomodation","onSubmit","appendBedroom","renderBedroom","state","name","dateStart","dateEnd","retreatSummary","accomodationOverview","bedRooms","food","byCar","byTrain","bookingDetails","bookingUrl","whatsIncluded","componentDidMount","get","match","params","id","then","res","console","log","data","setState","catch","err","event","target","value","desc","i","newBedroom","description","bedroomArray","cost","booked","preventDefault","newRoom","map","room","token","localStorage","getItem","retreat","headers","Authorization","post","history","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Bedroom from './bedroom.component';\n\n\nexport default class EditRetreat extends Component {\n\n  constructor(props){\n    super(props)\n\n    this.updateName = this.updateName.bind(this);\n    this.updateStartDate = this.updateStartDate.bind(this);\n    this.updateEndDate = this.updateEndDate.bind(this);\n    this.updateRetreatSummary = this.updateRetreatSummary.bind(this);\n    this.updateFood = this.updateFood.bind(this);\n    this.updateCar = this.updateCar.bind(this);\n    this.updateTrain = this.updateTrain.bind(this);\n    this.updateBookingInfoDetails = this.updateBookingInfoDetails.bind(this);\n    this.updateBookingInfoUrl = this.updateBookingInfoUrl.bind(this);\n    this.updateWhatIncluded = this.updateWhatIncluded.bind(this);\n    // this.updateRetreatImage = this.updateRetreatImage.bind(this);\n    this.onChangeBedDescription = this.onChangeBedDescription.bind(this);\n    this.onChangeBedCost = this.onChangeBedCost.bind(this);\n    this.onChangeBedBooking = this.onChangeBedBooking.bind(this);\n    this.updateAccomodation = this.updateAccomodation.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.appendBedroom = this.appendBedroom.bind(this);\n    this.renderBedroom = this.renderBedroom.bind(this);\n\n    this.state= {\n      name : \"\",\n      dateStart : \"\",\n      dateEnd : \"\",\n      retreatSummary : \"\",\n      accomodationOverview : \"\",\n      bedRooms : [],\n      food : \"\",\n      byCar : \"\",\n      byTrain : \"\",\n      bookingDetails : \"\",\n      bookingUrl : \"\",\n      whatsIncluded : []\n      // retreatImages : []\n    }\n  }\n\n  componentDidMount(){\n    axios.get('http://localhost:1234/retreats/'+this.props.match.params.id)\n      .then(res => {\n        console.log(res.data.dateStart, res.data.dateEnd);\n        this.setState({\n          name : res.data.name,\n          dateStart : res.data.dateStart,\n          dateEnd : res.data.dateEnd,\n          retreatSummary : res.data.retreatSummary,\n          accomodationOverview : res.data.accomodationOverview,\n          bedRooms : res.data.bedRooms,\n          food : res.data.food,\n          byCar : res.data.byCar,\n          byTrain : res.data.byTrain,\n          bookingDetails : res.data.bookingDetails,\n          bookingUrl : res.data.bookingUrl,\n          whatsIncluded : res.data.whatsIncluded\n          // retreatImages : res.data.retreatImages\n        })\n      })\n      .catch(function(err){\n        console.log('error getting lesson : ', err);\n      })\n  }\n\n  updateName(event){\n    this.setState({\n      name : event.target.value\n    })\n  }\n  updateStartDate(event){\n    this.setState({\n      dateStart : event.target.value\n    })\n  }\n  updateEndDate(event){\n    this.setState({\n      dateEnd : event.target.value\n    })\n  }\n  updateRetreatSummary(event){\n    this.setState({\n      retreatSummary : event.target.value\n    })\n  }\n  updateFood(event){\n    this.setState({\n      food : event.target.value\n    })\n  }\n  updateCar(event){\n    this.setState({\n      byCar : event.target.value\n    })\n  }\n  updateTrain(event){\n    this.setState({\n      byTrain : event.target.value\n    })\n  }\n  updateBookingInfoDetails(event){\n    this.setState({\n      bookingDetails : event.target.value\n    })\n  }\n  updateBookingInfoUrl(event){\n    this.setState({\n      bookingUrl : event.target.value\n    })\n  }\n  updateWhatIncluded(event){\n    this.setState({\n      whatsIncluded : event.target.value\n    })\n  }\n\n  updateAccomodation(event){\n    this.setState({\n      accomodationOverview : event.target.value\n    })\n  }\n\n  // updateRetreatImage(event){\n  //   const newImage = [...this.state.retreatImages];\n  //   newImage.push(event.target.files[0]);\n  //\n  //   this.setState({\n  //     retreatImages : newImage\n  //   })\n  // }\n\n  onChangeBedDescription(desc, i){\n    const newBedroom = {...this.state.bedRooms[i], description : desc };\n\n    let bedroomArray = this.state.bedRooms;\n    bedroomArray[i] = newBedroom;\n\n    this.setState({bedRooms : bedroomArray });\n  }\n\n  onChangeBedCost(cost, i){\n    const newBedroom = {...this.state.bedRooms[i], cost : cost };\n\n    let bedroomArray = this.state.bedRooms;\n    bedroomArray[i] = newBedroom;\n\n    this.setState({bedRooms : bedroomArray });\n  }\n\n  onChangeBedBooking(booked, i){\n    const newBedroom = {...this.state.bedRooms[i], booked : booked };\n\n    let bedroomArray = this.state.bedRooms;\n    bedroomArray[i] = newBedroom;\n\n    this.setState({bedRooms : bedroomArray });\n  }\n\n  appendBedroom(event){\n    event.preventDefault();\n    let newRoom = {\n      description : \"\",\n      cost : 0,\n      booked : false\n    };\n\n    this.setState({\n      bedRooms : [...this.state.bedRooms, newRoom]\n    })\n  }\n\n  renderBedroom(){\n    return this.state.bedRooms.map(function(room, i){\n\n      return <Bedroom key={i} checkboxId={\"booked-room\" + i} roomNum={i} room={room} onChangeBedDescription={(desc) => this.onChangeBedDescription(desc, i)} onChangeBedCost={(cost) => this.onChangeBedCost(cost, i)} onChangeBedBooking={(booked) => this.onChangeBedBooking(booked, i)}></Bedroom>\n    }, this)\n  }\n\n  onSubmit(event){\n    event.preventDefault();\n    const token = localStorage.getItem('jwtToken');\n\n    // if we allow update of images then will need to switch to FormData.set\n    // and add multipart/form-data to headers\n    const retreat = ({\n      name : this.state.name,\n      dateStart : this.state.dateStart,\n      dateEnd : this.state.dateEnd,\n      retreatSummary : this.state.retreatSummary,\n      accomodationOverview : this.state.accomodationOverview,\n      food : this.state.food,\n      byCar : this.state.byCar,\n      byTrain : this.state.byTrain,\n      bookingDetails : this.state.bookingDetails,\n      bookingUrl : this.state.bookingUrl,\n      whatsIncluded : this.state.whatsIncluded,\n      bedRooms : this.state.bedRooms\n    })\n\n    const headers = {\n      Authorization : \"Bearer \" + token\n    }\n\n    axios.post('http://localhost:1234/retreats/update/' + this.props.match.params.id, retreat, { headers : headers })\n      .then(res => console.log('data', res.data));\n\n    this.props.history.push('/list-retreats')\n  }\n\n  render(){\n    return (\n      <div>\n        <div className=\"hero-info-img\">\n          <div className=\"hero-info-overlay\"></div>\n          <div className=\"hero-landing-text-container\">\n            <p className=\"hero-img-text\">Em Thomson</p>\n            <p className=\"hero-img-subtext\">Yoga teacher</p>\n          </div>\n        </div>\n        <div className=\"page-container\">\n          <h3>Edit a retreat</h3>\n            <form onSubmit={this.onSubmit} encType=\"multipart/form-data\">\n\n              <div className=\"form-group\">\n                <label>Retreat Name</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.name} onChange={this.updateName}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Start Date eg(14/09/1988)</label>\n                <input type=\"date\" className=\"form-control\" value={this.state.dateStart} onChange={this.updateStartDate}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>End Date eg(22/04/1990)</label>\n                <input type=\"date\" className=\"form-control\" value={this.state.dateEnd} onChange={this.updateEndDate}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Retreat summary</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.retreatSummary} onChange={this.updateRetreatSummary}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Accommodation Overview</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.accomodationOverview} onChange={this.updateAccomodation}></input>\n              </div>\n\n              <div className=\"separator-long\"></div>\n\n              <div className=\"bedroom-container\">\n                {  this.renderBedroom() }\n              </div>\n\n              <div className=\"text-center\">\n                <button className=\"btn-primary\" onClick={this.appendBedroom}>Add bedroom</button>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Food</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.food} onChange={this.updateFood}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>How to get there by Car</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.byCar} onChange={this.updateCar}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>How to get there by public transport</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.byTrain} onChange={this.updateTrain}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Booking information details</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.bookingDetails} onChange={this.updateBookingInfoDetails}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Booking information link (must be full url). Leave blank if you want them to email you</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.bookingUrl} onChange={this.updateBookingInfoUrl}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>What's included in the cost. <strong>Separate all values by commas.</strong> Eg food, wine, car parking, pringles</label>\n                <input type=\"text\" className=\"form-control\" value={this.state.whatsIncluded} onChange={this.updateWhatIncluded}></input>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Cannot update images</label>\n              </div>\n\n              <div className=\"form-group\">\n                <input type=\"submit\" value=\"Update Retreat\" className=\"btn btn-primary\"></input>\n              </div>\n\n            </form>\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}